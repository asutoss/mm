(window.webpackJsonpmm=window.webpackJsonpmm||[]).push([[0],{302:function(e,t,a){e.exports=a(619)},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},338:function(e,t){},340:function(e,t){},372:function(e,t){},373:function(e,t){},438:function(e,t){},530:function(e,t,a){},546:function(e,t){},618:function(e,t,a){},619:function(e,t,a){"use strict";a.r(t);var n=a(162);n.initializeApp({apiKey:"AIzaSyAeL6KYUbYByWunbQSHfvsJcfERRWZgHW4",authDomain:"asutoss-expensify-test.firebaseapp.com",databaseURL:"https://asutoss-expensify-test.firebaseio.com",projectId:"asutoss-expensify-test",storageBucket:"asutoss-expensify-test.appspot.com",messagingSenderId:"296500469335",appId:"1:296500469335:web:ed84c7372f4676c7ef4d12"});var r=n.database(),o=a(77),l=a(117),s=a(47);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u={mealCosts:{breakFast:0,lunch:0,dinner:0}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BREAKFAST":var a=e.mealCosts;return r.ref("mealCosts/breakFast").set(t.changedValue),i({},e,{mealCosts:i({},a,{breakFast:t.changedValue})});case"CHANGE_LUNCH":var n=e.mealCosts;return r.ref("mealCosts/lunch").set(t.changedValue),i({},e,{mealCosts:i({},n,{lunch:t.changedValue})});case"CHANGE_DINNER":var o=e.mealCosts;return r.ref("mealCosts/dinner").set(t.changedValue),i({},e,{mealCosts:i({},o,{dinner:t.changedValue})});case"CHANGE_MEAL_COSTS":var l=e.mealCosts,s=i({},l,{breakFast:t.changedB,lunch:t.changedL,dinner:t.changedD});return r.ref("mealCosts").set(s),i({},e,{mealCosts:i({},s)});case"SET_EXPENSES":return t.mealCosts;default:return e}},h=Object(l.b)(m),d=a(0),p=a.n(d),b=a(66),f=a(60),v=(a(320),function(){return p.a.createElement("div",{className:"header"},p.a.createElement("h1",null,"Mess Managers"),p.a.createElement("h4",null,"This is it..."))}),g=a(34),E=a(35),O=a(37),y=a(36),j=a(21),C=a(38);a(321);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).state={name:"",pwd:""},a.setName=function(e){var t=e.target.value;a.setState(S({},a.state,{name:t})),console.log(t)},a.setPassword=function(e){var t=e.target.value;a.setState(S({},a.state,{pwd:t})),console.log(t)},a.handleAuthentication=function(e){e.preventDefault(),console.log("test : ",a.props.info.userName," ",a.props.info.password),a.props.info.userName===a.state.name&&a.props.info.password===a.state.pwd?(console.log("Authenticated"),a.props.changeAuthentication()):console.log("UnAuthenticated")},a.setName=a.setName.bind(Object(j.a)(a)),a.setPassword=a.setPassword.bind(Object(j.a)(a)),a.handleAuthentication=a.handleAuthentication.bind(Object(j.a)(a)),a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return p.a.createElement("form",{className:"form",onSubmit:this.handleAuthentication},p.a.createElement("div",{className:"form_input"},p.a.createElement("h3",null,"UserName :"),p.a.createElement("input",{type:"text",onChange:this.setName})),p.a.createElement("div",{className:"form_input"},p.a.createElement("h3",null,"Password :"),p.a.createElement("input",{type:"password",onChange:this.setPassword})),p.a.createElement("button",{onClick:this.handleAuthentication},"Submit"))}}]),t}(p.a.Component),D=(a(322),{userName:"A",password:"B",isAuthenticated:!1}),P=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).changeAuthentication=function(){D.isAuthenticated=!0,console.log(D.isAuthenticated)},a.changeAuthentication=a.changeAuthentication.bind(Object(j.a)(a)),a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"container"},p.a.createElement("div",{className:"loginPage"},!1===D.isAuthenticated?p.a.createElement("div",{className:"list-item list-item--message"},p.a.createElement("h2",null,"Login"),p.a.createElement(w,{info:D,changeAuthentication:this.changeAuthentication})):p.a.createElement("h3",null,"Hello")))}}]),t}(p.a.Component);a(323);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=a(61).exec,I=a(166),B=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={rollNo:void 0,userName:void 0,roomNo:void 0,password:void 0,allowSubmit:!1},a.handleRollNo=function(e){var t=e.target.value;a.setState(k({},a.state,{rollNo:t}))},a.handleUserName=function(e){var t=e.target.value;a.setState(k({},a.state,{userName:t}))},a.handleRoomNo=function(e){var t=e.target.value;a.setState(k({},a.state,{roomNo:t}))},a.handlePassword=function(e){var t=e.target.value;a.setState(k({},a.state,{password:t}))},a.checkPassword=function(e){var t=e.target.value;a.state.password===t&&a.setState(k({},a.state,{allowSubmit:!0}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.allowSubmit){console.log(a.state);var t={userName:a.state.userName,rollNo:a.state.rollNo,roomNo:a.state.roomNo,password:a.state.password};r.ref("accounts").push(t),a.props.history.push("/ClerkPage"),I.post({headers:{"content-type":"application/json"},url:"https://us-central1-hactathon2019.cloudfunctions.net/nitjalandhar/student_signup",body:{roll:t.rollNo,name:t.userName,room:t.roomNo,hostel:4},json:!0},function(e,t,a){e&&console.log("Error. "+e),console.log(a)})}else alert("Passwords do not match")},a.handleClick=function(e){e.preventDefault();var t=JSON.stringify(a.state.rollNo);_("python pyfiie.py ".concat(t),function(e,t,a){console.log(t)})},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"createAccountPage"},p.a.createElement("h2",null,"Create Account"),p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement("div",{className:"left_box"},p.a.createElement("div",{className:"box"},p.a.createElement("h3",null,"Roll No. :"),p.a.createElement("input",{type:"number",onChange:this.handleRollNo})),p.a.createElement("div",{className:"box"},p.a.createElement("h3",null,"User Name :"),p.a.createElement("input",{type:"text",onChange:this.handleUserName})),p.a.createElement("div",{className:"box"},p.a.createElement("h3",null,"Room No. :"),p.a.createElement("input",{type:"number",onChange:this.handleRoomNo})),p.a.createElement("div",{className:"box"},p.a.createElement("h3",null,"Password :"),p.a.createElement("input",{type:"password",onChange:this.handlePassword})),p.a.createElement("div",{className:"box"},p.a.createElement("h3",null,"Password Again :"),p.a.createElement("input",{type:"password",onChange:this.checkPassword}))),p.a.createElement("div",{className:"right_box"},p.a.createElement("button",{onClick:this.handleClick},"Take Photos"),p.a.createElement("button",null,"Sign Up"))))}}]),t}(p.a.Component),V=(a(530),function(e){return p.a.createElement("div",null,p.a.createElement("p",null,e.description),p.a.createElement("p",null,e.amount),p.a.createElement("p",null,e.date),p.a.createElement("p",null,e.time))}),x=function(e){return p.a.createElement("div",{className:"records"},e.record.map(function(e){return p.a.createElement(V,e)}))},L=a(7),M=a.n(L),R=(a(531),a(300)),F=(a(616),a(166)),H=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={startDate:M()(),endDate:M()().add(1,"week"),focusedInput:null,userName:"Ashutosh",rollNo:17103017,hNo:4,balance:5010},a.records=[{key:1,description:"regular meal",amount:40,date:"12/9/19",time:"12:45"},{key:2,description:"regular meal",amount:40,date:"12/9/19",time:"20:45"},{key:3,description:"regular meal",amount:30,date:"13/9/19",time:"8:15"}],a.handleDateChange=function(e){var t=e.startDate,n=e.endDate;return a.setState({startDate:t,endDate:n})},a.handleFocusChange=function(e){return a.setState({focusedInput:e})},a.handleSubmit=function(e){e.preventDefault();var t={rollNo:a.state.rollNo,startDate:a.state.startDate.format("YYYY-MM-D h:mm:ss"),endDate:a.state.endDate.format("YYYY-MM-D h:mm:ss")};r.ref("messOffList").push(t),F.post({headers:{"content-type":"application/json"},url:"https://us-central1-hactathon2019.cloudfunctions.net/nitjalandhar/mess_off",body:{roll:t.rollNo,start:t.startDate,end:t.endDate},json:!0},function(e,t,a){e&&console.log("Error. "+e),console.log(a)}),alert("Mess Off done from "+a.state.startDate.toString()+" to "+a.state.endDate.toString())},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return p.a.createElement("div",{className:"mainPage"},p.a.createElement("div",{className:"studentData"},p.a.createElement("h3",null,"User Name : ",this.state.userName),p.a.createElement("h3",null,"Hostel No. : ",this.state.hNo),p.a.createElement("h3",null,"Roll No. : ",this.state.rollNo),p.a.createElement("h3",null,"Balance : ",this.state.balance),p.a.createElement(b.b,{to:"/"},p.a.createElement("button",null,"Log Out"))),p.a.createElement(x,{record:this.records}),p.a.createElement("div",null,p.a.createElement("h2",null,"Mess Off"),p.a.createElement("form",null,p.a.createElement("div",null,p.a.createElement("h3",null,"duration :"),p.a.createElement(R.DateRangePicker,{startDate:this.state.startDate,startDateId:"startDateId",endDate:this.state.endDate,endDateId:"endDateId",onDatesChange:this.handleDateChange,focusedInput:this.state.focusedInput,onFocusChange:this.handleFocusChange,showClearDates:!1,numberOfMonths:1,isOutsideRange:function(){return!1}}),p.a.createElement("button",{onClick:this.handleSubmit},"Submit")))))}}]),t}(p.a.Component);a(618);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(O.a)(this,Object(y.a)(t).call(this,e))).handleSubmitA=function(e){e.preventDefault(),a.handleVisibilityA(),a.props.onSubmitA(a.state.ina)},a.handleSubmitB=function(e){e.preventDefault(),a.handleVisibilityB(),a.props.onSubmitB(a.state.inb)},a.handleSubmitC=function(e){e.preventDefault(),a.handleVisibilityC(),a.props.onSubmitC(a.state.inc)},a.handleVisibilityA=a.handleVisibilityA.bind(Object(j.a)(a)),a.handleSubmitA=a.handleSubmitA.bind(Object(j.a)(a)),a.handleInputChangeA=a.handleInputChangeA.bind(Object(j.a)(a)),a.handleVisibilityB=a.handleVisibilityB.bind(Object(j.a)(a)),a.handleSubmitB=a.handleSubmitB.bind(Object(j.a)(a)),a.handleInputChangeB=a.handleInputChangeB.bind(Object(j.a)(a)),a.handleVisibilityC=a.handleVisibilityC.bind(Object(j.a)(a)),a.handleSubmitC=a.handleSubmitC.bind(Object(j.a)(a)),a.handleInputChangeC=a.handleInputChangeC.bind(Object(j.a)(a)),a.state={va:!1,vb:!1,vc:!1,ina:0,inb:0,inc:0},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"handleVisibilityA",value:function(){var e=this;this.setState(function(t){return U({},e.state,{va:!t.va})})}},{key:"handleVisibilityB",value:function(){var e=this;this.setState(function(t){return U({},e.state,{vb:!t.vb})})}},{key:"handleVisibilityC",value:function(){var e=this;this.setState(function(t){return U({},e.state,{vc:!t.vc})})}},{key:"handleInputChangeA",value:function(e){var t=this,a=e.target.value;this.setState(function(){return U({},t.state,{ina:a})})}},{key:"handleInputChangeB",value:function(e){var t=this,a=e.target.value;this.setState(function(){return U({},t.state,{inb:a})})}},{key:"handleInputChangeC",value:function(e){var t=this,a=e.target.value;this.setState(function(){return U({},t.state,{inc:a})})}},{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement("h2",null,"Meal Costs"),p.a.createElement("div",null,p.a.createElement("h3",null,"BreakFast : ",this.props.mealCosts.breakFast),!this.state.va&&p.a.createElement("button",{onClick:this.handleVisibilityA},"Edit"),this.state.va&&p.a.createElement("form",{onSubmit:this.handleSubmitA},p.a.createElement("input",{type:"number",onChange:this.handleInputChangeA}),p.a.createElement("button",{type:"button",onClick:this.handleSubmitA},"Submit"))),p.a.createElement("div",null,p.a.createElement("h3",null,"Lunch : ",this.props.mealCosts.lunch),!this.state.vb&&p.a.createElement("button",{onClick:this.handleVisibilityB},"Edit"),this.state.vb&&p.a.createElement("form",{onSubmit:this.handleSubmitB},p.a.createElement("input",{type:"number",onChange:this.handleInputChangeB}),p.a.createElement("button",{type:"button",onClick:this.handleSubmitB},"Submit"))),p.a.createElement("div",null,p.a.createElement("h3",null,"Dinner : ",this.props.mealCosts.dinner),!this.state.vc&&p.a.createElement("button",{onClick:this.handleVisibilityC},"Edit"),this.state.vc&&p.a.createElement("form",{onSubmit:this.handleSubmitC},p.a.createElement("input",{type:"number",onChange:this.handleInputChangeC}),p.a.createElement("button",{type:"button",onClick:this.handleSubmitC},"Submit"))))}}]),t}(p.a.Component),G=Object(o.b)(function(e){return{mealCosts:e.mealCosts}})(Y),W=function(e){return p.a.createElement("div",null,p.a.createElement("h3",null,"Roll No. : ",e.rollNo),p.a.createElement("h3",null,"Start Time : ",e.startTime),p.a.createElement("h3",null,"End Time : ",e.endTime))};function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var K=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o)))).state={messOffList:[],vis:!1},a.handleMessOffList=function(){r.ref("messOffList").once("value").then(function(e){var t=[];e.forEach(function(e){t.push({rollNo:e.node_.children_.root_.value.value_,startDate:e.node_.children_.root_.right.value.value_,endDate:e.node_.children_.root_.left.value.value_})}),a.setState(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach(function(t){Object(s.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a.state,{messOffList:t,vis:!e.vis})})}).catch(function(e){console.log("Error fetching data ",e)})},a.handleFoodWasteManagement=function(){console.log("Come on Man....")},a}return Object(C.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"clerkPage"},p.a.createElement("div",{className:"mealCosts"},p.a.createElement(G,{onSubmitA:function(t){e.props.dispatch({type:"CHANGE_BREAKFAST",changedValue:t})},onSubmitB:function(t){e.props.dispatch({type:"CHANGE_LUNCH",changedValue:t})},onSubmitC:function(t){e.props.dispatch({type:"CHANGE_DINNER",changedValue:t})}})),p.a.createElement("div",{className:"link"},p.a.createElement(b.b,{to:"/clerkPage"},p.a.createElement("button",null,"Create Account")),p.a.createElement(b.b,{to:"/dataPage"},p.a.createElement("button",{onClick:function(){console.log("come on man..")}},"Food Wastage Manaagement"))),p.a.createElement("div",{className:"messOffList"},p.a.createElement("div",{className:"list-body"},!1===this.state.vis?p.a.createElement("div",{className:"list-item list-item--message"}):this.state.messOffList.map(function(e){return p.a.createElement(W,Object.assign({key:e.rollNo},e))})),p.a.createElement("button",{onClick:this.handleMessOffList},this.state.vis?"Hide":"Mess Off List")))}}]),t}(p.a.Component),z=Object(o.b)()(K),Q=function(){return p.a.createElement("div",null,p.a.createElement("h1",null,"Food Wastage Management"))},X=function(){return p.a.createElement("div",null,p.a.createElement("h1",null,"NOT FOUND"))},Z=function(){return p.a.createElement("div",null,p.a.createElement(v,null),p.a.createElement(b.a,null,p.a.createElement(f.c,null,p.a.createElement(f.a,{path:"/",component:P,exact:!0}),p.a.createElement(f.a,{path:"/createAccount",component:B,exact:!0}),p.a.createElement(f.a,{path:"/mainPage",component:H,exact:!0}),p.a.createElement(f.a,{path:"/dataPage",component:Q,exact:!0}),p.a.createElement(f.a,{path:"/clerkPage",component:z,exact:!0}),p.a.createElement(f.a,{component:X}))))};var q=function(){return p.a.createElement("div",{className:"App"},p.a.createElement(Z,null))},$=a(42),ee=a.n($);r.ref("mealCosts").once("value").then(function(e){var t,a,n,r=e.val();h.dispatch((t=r.breakFast,a=r.lunch,n=r.dinner,{type:"CHANGE_MEAL_COSTS",changedB:t,changedL:a,changedD:n}))}).catch(function(e){console.log("Error fetching data ",e)});var te=p.a.createElement(o.a,{store:h},p.a.createElement(q,null));ee.a.render(te,document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.16e082e9.chunk.js.map